//-----------------------------------------------------------------------------
//Universidad del Valle de Guatemala
//BE3015 Electronica Digital 2
//Karen Joachin
// Proyecto 1
//-----------------------------------------------------------------------------
//Librerias
//-----------------------------------------------------------------------------
#include <Arduino.h>

//-----------------------------------------------------------------------------
//Definiciond de etiquetas
//-----------------------------------------------------------------------------
#define sensor 32
#define btn1 25

//-----------------------------------------------------------------------------
//Prototipo de funciones
//-----------------------------------------------------------------------------
void IRAM_ATTR tempB1(void);
void funcTemp(void);

//-----------------------------------------------------------------------------
//Variabls Globales
//-----------------------------------------------------------------------------
float vaSensor = 0; // variable para el sensor
float tempC = 0;

//-----------------------------------------------------------------------------
//ISR
//-----------------------------------------------------------------------------
void IRAM_ATTR tempB1()
{
  Serial.print("Temperatura = ");
  Serial.print(tempC, 1);
  Serial.print(" °C  ");
  Serial.print(" \n");
}

//-----------------------------------------------------------------------------
//Configuracion
//-----------------------------------------------------------------------------
void setup()
{
  Serial.begin(115200);
  pinMode(btn1, INPUT_PULLUP);
  attachInterrupt(btn1, tempB1, HIGH);
}

//-----------------------------------------------------------------------------
//loop principal
//-----------------------------------------------------------------------------
void loop()
{
  vaSensor = analogRead(sensor);       //leer el valor analógico del sensor
  tempC = (vaSensor * 110.0) / 1024.0; //convertir a volts
  delay(100);                          //esperar 100ms
}
